<!doctype html>
<html lang="id">
  <head>
    <title>Dashboard Admin</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <header>
      <div class="container">
        <h1>Dashboard Admin</h1>
        <button
          onclick="logout()"
          style="
            background: #e74c3c;
            border: none;
            color: white;
            padding: 5px 15px;
            cursor: pointer;
            border-radius: 4px;
            margin-top: 10px;
          "
        >
          Logout
        </button>
      </div>
    </header>

    <main class="container">
      <div class="card" style="max-width: 600px; margin: 0 auto">
        <h3 style="text-align: center; margin-bottom: 20px">
          Tambah Konten Baru
        </h3>

        <form id="articleForm" class="admin-form">
          <label>Judul Artikel/Buku:</label>
          <input
            type="text"
            id="judul"
            required
            placeholder="Contoh: Filosofi Teras"
          />

          <label>Kategori:</label>
          <select id="kategori">
            <option value="filsafat">Filsafat</option>
            <option value="psikologi">Psikologi</option>
            <option value="puisi">Puisi</option>
            <option value="refleksi">Refleksi</option>
            <option value="news">News</option>
            <option value="kecerdasan">Kecerdasan</option>
            <option value="curhat">Curhat</option>
          </select>

          <label>Isi Singkat / Deskripsi:</label>
          <textarea
            id="deskripsi"
            rows="4"
            required
            placeholder="Tulis ringkasan di sini..."
          ></textarea>

          <button type="submit" class="btn-submit" style="margin-top: 20px">
            Posting Sekarang
          </button>
        </form>
      </div>

      <div style="text-align: center; margin-top: 20px">
        <a href="index.html" class="read-more">Lihat Website Utama (Hasil)</a>
      </div>
    </main>

    <script>
      // Cek Keamanan
      if (localStorage.getItem("isAdmin") !== "true") {
        window.location.href = "login.html";
      }

      function logout() {
        localStorage.removeItem("isAdmin");
        window.location.href = "index.html";
      }

      // Logic Simpan Data
      document
        .getElementById("articleForm")
        .addEventListener("submit", function (e) {
          e.preventDefault();

          const newArticle = {
            judul: document.getElementById("judul").value,
            kategori: document.getElementById("kategori").value,
            deskripsi: document.getElementById("deskripsi").value,
            id: Date.now(),
          };

          let articles = JSON.parse(localStorage.getItem("articles")) || [];
          articles.push(newArticle);
          localStorage.setItem("articles", JSON.stringify(articles));

          alert("Berhasil diposting!");
          document.getElementById("articleForm").reset();
        });
    </script>
  </body>
</html>
